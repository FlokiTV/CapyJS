var br=Object.create;var it=Object.defineProperty;var wr=Object.getOwnPropertyDescriptor;var _r=Object.getOwnPropertyNames;var Er=Object.getPrototypeOf,Sr=Object.prototype.hasOwnProperty;var ft=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Or=(e,t)=>{for(var r in t)it(e,r,{get:t[r],enumerable:!0})},$t=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of _r(t))!Sr.call(e,n)&&n!==r&&it(e,n,{get:()=>t[n],enumerable:!(o=wr(t,n))||o.enumerable});return e};var U=(e,t,r)=>(r=e!=null?br(Er(e)):{},$t(t||!e||!e.__esModule?it(r,"default",{value:e,enumerable:!0}):r,e)),Cr=e=>$t(it({},"__esModule",{value:!0}),e);var Ht=ft((ts,Ft)=>{var Ar=require("stream");Ft.exports=class extends Ar.Duplex{constructor(t,r){super({allowHalfOpen:!1,...r,objectMode:!0}),this._rawChannel=t,this._readActive=!0,t.onMessage(o=>{this._readActive&&(this._readActive=this.push(o))}),t.onClosed(()=>{this.push(null),this.destroy()}),t.onError(o=>{this.destroy(new Error(`DataChannel error: ${o}`))}),t.isOpen()||(this.cork(),t.onOpen(()=>this.uncork()))}_read(){this._readActive=!0}_write(t,r,o){let n;try{if(Buffer.isBuffer(t))n=this._rawChannel.sendMessageBinary(t);else if(typeof t=="string")n=this._rawChannel.sendMessage(t);else{let s=t.constructor.name||typeof t;throw new Error(`Cannot write ${s} to DataChannel stream`)}}catch(s){return o(s)}o(n?null:new Error("Failed to write to DataChannel"))}_final(t){this.allowHalfOpen||this.destroy(),t(null)}_destroy(t,r){this._rawChannel.close(),r(t)}get label(){return this._rawChannel.getLabel()}get id(){return this._rawChannel.getId()}get protocol(){return this._rawChannel.getProtocol()}}});var Kt=ft((es,Et)=>{var Tr=require("./node_datachannel-A5HM4XKM.node");Et.exports=Tr;Et.exports.DataChannelStream=Ht()});var Qt=ft(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.VERSION=void 0;ut.VERSION="0.0.6"});var Ct=ft(D=>{"use strict";var te=D&&D.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var o=0,n=t.length,s;o<n;o++)(s||!(o in t))&&(s||(s=Array.prototype.slice.call(t,0,o)),s[o]=t[o]);return e.concat(s||Array.prototype.slice.call(t))};Object.defineProperty(D,"__esModule",{value:!0});D.Events=void 0;var Ir=Qt(),Mr=function(){function e(t,r,o){o===void 0&&(o=!1),this.fn=t,this.context=r,this.once=o}return e}(),ee=function(e,t,r,o,n){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new Mr(r,o||e,n);return e._events.has(t)?e._events.get(t).fn?e._events.set(t,[e._events.get(t),s]):e._events.get(t).push(s):(e._events.set(t,s),e._eventsCount++),e},pt=function(e,t){--e._eventsCount===0?e._events=new Map:e._events.delete(t)},Rr=function(){function e(){this._events=new Map,this._eventsCount=0}return Object.defineProperty(e,"VERSION",{get:function(){return Ir.VERSION},enumerable:!1,configurable:!0}),e.prototype.eventNames=function(){return Array.from(this._events.keys())},e.prototype.listeners=function(t){var r=this._events.get(t);if(!r)return[];if(r.fn)return[r.fn];for(var o=0,n=r.length,s=new Array(n);o<n;o++)s[o]=r[o].fn;return s},e.prototype.listenerCount=function(t){var r=this._events.get(t);return r?r.fn?1:r.length:0},e.prototype.emit=function(t){for(var r,o,n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(!this._events.has(t))return!1;var a=this._events.get(t),i;if(a.fn)return a.once&&this.removeListener(t,a.fn,void 0,!0),(r=a.fn).call.apply(r,te([a.context],n,!1)),!0;var f=a.length;for(i=0;i<f;i++)a[i].once&&this.removeListener(t,a[i].fn,void 0,!0),(o=a[i].fn).call.apply(o,te([a[i].context],n,!1));return!0},e.prototype.on=function(t,r,o){return ee(this,t,r,o,!1)},e.prototype.once=function(t,r,o){return ee(this,t,r,o,!0)},e.prototype.removeListener=function(t,r,o,n){if(!this._events.has(t))return this;if(!r)return pt(this,t),this;var s=this._events.get(t);if(s.fn)s.fn===r&&(!n||s.once)&&(!o||s.context===o)&&pt(this,t);else{for(var a=0,i=[],f=s.length;a<f;a++)(s[a].fn!==r||n&&!s[a].once||o&&s[a].context!==o)&&i.push(s[a]);i.length?this._events.set(t,i.length===1?i[0]:i):pt(this,t)}return this},e.prototype.removeAllListeners=function(t){return t?this._events.delete(t)&&pt(this,t):(this._events=new Map,this._eventsCount=0),this},Object.defineProperty(e.prototype,"off",{get:function(){return this.removeListener},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"addListener",{get:function(){return this.on},enumerable:!1,configurable:!0}),e}();D.Events=Rr});var Zn={};Or(Zn,{Server:()=>Gt});module.exports=Cr(Zn);var St=U(Kt(),1);var Ut=(e,t,r)=>new Promise((o,n)=>{try{let s=e.createDataChannel(t,r);o(s)}catch(s){console.error("ERROR:",s.message),n(s)}}),Vt=(e,t)=>new Promise((r,o)=>{try{let n=new St.default.PeerConnection(e,t);r(n)}catch(n){o(n)}}),Jt=e=>new Promise(t=>{e&&e.destroy(),t()}),qt=e=>new Promise(t=>{e?.isOpen()&&e.close(),t()}),Ot=()=>new Promise(e=>{try{St.default.cleanup(),e()}catch{e()}});var Xt=Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array)).constructor;var _=(e,t,r=new Error("Promise timed out"))=>{let o=new Promise((n,s)=>{setTimeout(()=>{s(o)},t)});return Promise.race([e,o])},Zt=(e=0)=>new Promise(t=>{setTimeout(()=>{t()},e)});var ss=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,lt=e=>typeof e=="string",V=e=>e instanceof ArrayBuffer||e instanceof Xt,Yt=e=>{try{return typeof e!="string"||!isNaN(parseInt(e))?!1:(JSON.parse(e),!0)}catch{return!1}};var h={CONNECT:"connect",CONNECTION:"connection",DATA_CHANNEL_IS_OPEN:"dataChannelIsOpen",DISCONNECT:"disconnect",DISCONNECTED:"disconnected",DROP:"dropped",ERROR:"error",RAW_MESSAGE:"rawMessage",RECEIVED_FROM_DATA_CHANNEL:"receiveFromDataChannel",SEND_OVER_DATA_CHANNEL:"sendOverDataChannel"},J={BROWSER_NOT_SUPPORTED:"BROWSER_NOT_SUPPORTED",COULD_NOT_PARSE_MESSAGE:"COULD_NOT_PARSE_MESSAGE",DROPPED_FROM_BUFFERING:"DROPPED_FROM_BUFFERING",MAX_MESSAGE_SIZE_EXCEEDED:"MAX_MESSAGE_SIZE_EXCEEDED"};var ae=U(Ct(),1);var Dr=e=>{let{data:t}=e;t||(t=e);let r=V(t),o=Yt(t),n=lt(t);if(o){let s=JSON.parse(t),a=Object.keys(s)[0],i=s[a];return{key:a,data:i}}return r?{key:h.RAW_MESSAGE,data:t}:n?{key:h.RAW_MESSAGE,data:t}:{key:"error",data:new Error(J.COULD_NOT_PARSE_MESSAGE)}},re=Dr;var Pr=(e,t,r,o=null)=>{var n;let s=(a,i)=>{var f;let l=(f=a.byteLength)!==null&&f!==void 0?f:a.length*2;if(typeof t=="number"&&l>t)throw new Error(`maxMessageSize of ${t} exceeded`);Promise.resolve().then(()=>{e.send?e.send(a):i?e.sendMessageBinary(Buffer.from(a)):e.sendMessage(a)}).catch(u=>{console.log("error",u)})};if(e&&(e.readyState==="open"||!((n=e.isOpen)===null||n===void 0)&&n.call(e)))try{r===h.RAW_MESSAGE&&o!==null&&(lt(o)||V(o))?s(o,V(o)):s(JSON.stringify({[r]:o}),!1)}catch(a){return console.error("Error in sendMessage.ts: ",a.message),a}},oe=Pr;var ne=U(Ct(),1),At=class{constructor(){this.eventEmitter=new ne.Events}emit(t,r,o={}){this.eventEmitter.emit(t,r,o)}on(t,r){return this.eventEmitter.on(t,(o,n)=>{r(o,n)})}removeAllListeners(){this.eventEmitter.removeAllListeners()}},Nr=new At,P=Nr;var jr=(e=24)=>{let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r="";for(let o=0;o<e;o++)r+=t.charAt(Math.floor(Math.random()*t.length));return r},q=jr;var Lr=(e=200,t=1,r)=>{let o=0;if(typeof r!="function"){console.error("You have to define your callback function!");return}let n=setInterval(()=>{r(),o++,o===t-1&&clearInterval(n)},e);r()},se=Lr;var M=(e,t)=>{let{interval:r=150,runs:o=10}=e,n=q(24);se(r,o,()=>{t(n)})};var N=class{constructor(t,r,o,n){this.webrtcConnection=t,this.dataChannel=r,this.dataChannelOptions=o,this.userData=n,this.eventEmitter=new ae.Events,this.receivedReliableMessages=[],this._id=t.id,this._roomId=void 0;let{autoManageBuffering:s=!0}=o;this.autoManageBuffering=s,this.dataChannel.onOpen(()=>{this.dataChannel.onMessage(a=>{let{key:i,data:f}=re(a);this.eventEmitter.emit(i,f)}),P.emit(h.CONNECTION,this)}),this.dataChannel.onClosed(()=>{})}get id(){return this._id}get roomId(){return this._roomId}onDisconnect(t){this.eventEmitter.on(h.DISCONNECT,r=>{(n=>t(n))(r)})}onDrop(t){this.eventEmitter.on(h.DROP,r=>{t(r)})}async close(){let t=this.webrtcConnection.connections.get(this.id);t?await t.close():console.log("connection not found!")}join(t){this._roomId=t}leave(){this._roomId=void 0}get room(){return{emit:(t,r,o)=>{this.webrtcConnection.connections.forEach(n=>{let{channel:s}=n,{roomId:a}=s;a===this._roomId&&(o&&o.reliable?M(o,i=>s.emit(t,{MESSAGE:r,RELIABLE:1,ID:i})):s.emit(t,r))})}}}get broadcast(){return{emit:(t,r,o)=>{this.webrtcConnection.connections.forEach(n=>{let{channel:s}=n,{roomId:a,id:i}=s;a===this._roomId&&i!==this._id&&(o&&o.reliable?M(o,f=>s.emit(t,{MESSAGE:r,RELIABLE:1,ID:f})):s.emit(t,r))})}}}forward(t){return{emit:(r,o,n)=>{this.webrtcConnection.connections.forEach(s=>{let{channel:a}=s,{roomId:i}=a;t===i&&(n&&n.reliable?M(n,f=>a.eventEmitter.emit(r,{MESSAGE:o,RELIABLE:1,ID:f},this._id)):a.eventEmitter.emit(r,o,this._id))})}}}emit(t,r=null,o){o&&o.reliable?M(o,n=>this._emit(t,{MESSAGE:r,RELIABLE:1,ID:n})):this._emit(t,r)}_emit(t,r=null){if((!this._roomId||this._roomId===this._roomId)&&(!this._id||this._id===this._id)){if(!this.dataChannel)return;let o=r&&typeof r=="object"&&"RELIABLE"in r,n=this.autoManageBuffering&&+this.dataChannel.bufferedAmount()>0,s=(a,i,f)=>{this.eventEmitter.emit(h.DROP,{reason:a,event:i,data:f})};o||!n?oe(this.dataChannel,this.maxMessageSize,t,r)&&s(J.MAX_MESSAGE_SIZE_EXCEEDED,t,r):s(J.DROPPED_FROM_BUFFERING,t,r)}}get raw(){return{emit:t=>this.emit(h.RAW_MESSAGE,t),room:{emit:t=>this.room.emit(h.RAW_MESSAGE,t)},broadcast:{emit:t=>this.broadcast.emit(h.RAW_MESSAGE,t)}}}onRaw(t){this.eventEmitter.on(h.RAW_MESSAGE,r=>{(n=>t(n))(r)})}on(t,r){this.eventEmitter.on(t,(o,n=void 0)=>{let s=(l,u)=>r(l,u),a=o&&o.RELIABLE===1&&o.ID!=="undefined",i=15e3;a?((()=>{let l=new Date().getTime();this.receivedReliableMessages.forEach((u,p,m)=>{u.expire<=l&&m.splice(p,1)})})(),this.receivedReliableMessages.filter(l=>l.id===o.ID).length===0&&(this.receivedReliableMessages.push({id:o.ID,timestamp:new Date,expire:new Date().getTime()+i}),s(o.MESSAGE,n))):s(o,n)})}};var ie=U(require("events"),1);var kr=1e4,X=class extends ie.default{constructor(t,r,o,n){super(),this.id=t,this.configuration=r,this.connections=o,this.userData=n,this.additionalCandidates=[],this.state="open",this.options={timeToHostCandidates:kr}}async init(){return this.peerConnection=await _(Vt(this.id,this.configuration),2e3),this.peerConnection}async close(t="closed"){await _(qt(this.channel.dataChannel),2e3),await _(Jt(this.peerConnection),2e3),this.channel.dataChannel=null,this.peerConnection=null,this.channel.eventEmitter.on(h.DISCONNECT,()=>{this.removeAllListeners(),this.channel.eventEmitter.removeAllListeners()}),this.channel.eventEmitter.emit(h.DISCONNECT,t),this.connections.has(this.id)&&this.connections.delete(this.id)}};var Z=class{constructor(t){this.options=t,this.connections=new Map}createId(){let t=q(24);for(;this.connections.has(t);)t=q(24);return t}getConnection(t){return this.connections.get(t)}getConnections(){return this.connections}async getUserData(t,r,o){var n;let s={};if(!((n=this.options)===null||n===void 0)&&n.authorization){if(typeof this.options.authorization!="function")return console.log("[warning] Authorization is not a function!?"),{_statusCode:500};let a=await this.options.authorization(t,r,o);if(typeof a=="boolean"&&a)s={};else{if(typeof a=="boolean"&&!a)return{_statusCode:401};if(typeof a=="number"&&a>=100&&a<600)return{_statusCode:a};s=a}}return s}async createConnection(t,r,o){let n=await this.getUserData(t,r,o);if(n._statusCode)return{userData:n,status:n._statusCode};let s=this.createId(),{ordered:a=!1,label:i="geckos.io",iceServers:f=[],portRange:l,iceTransportPolicy:u="all",maxPacketLifeTime:p=void 0,maxRetransmits:m=0,multiplex:O=!0}=this.options,C={maxPacketLifeTime:p,maxRetransmits:m,reliability:{unordered:!a}},g={iceTransportPolicy:u,iceServers:f.map(v=>v.urls),enableIceUdpMux:O};l?.min&&l?.max&&(l.min=Math.max(l.min,1025),l.max=Math.min(l.max,65535),g={...g,portRangeBegin:l.min,portRangeEnd:l.max});let d=new X(s,g,this.connections,n),b=await d.init();if(!b)return{status:500};b.onStateChange(async v=>{v==="connected"&&(d.channel.maxMessageSize=+d.channel.dataChannel.maxMessageSize()),(v==="disconnected"||v==="failed"||v==="closed")&&await this.deleteConnection(d,v)});let bt,wt,yr=[];b.onDataChannel(v=>{console.log("Peer1 Got DataChannel: ",v.getLabel())}),b.onGatheringStateChange(v=>{bt=v}),b.onLocalDescription((v,at)=>{wt={sdp:v,type:at}}),b.onLocalCandidate((v,at)=>{d.additionalCandidates.push({candidate:v,sdpMid:at}),yr.push({candidate:v,mid:at})});let vr=await _(Ut(b,i,C),2e3);d.channel=new N(d,vr,this.options,n);let Wt=0;for(;typeof wt>"u"&&Wt<20;)Wt++,await Zt(50);let{id:_t}=d;return _t?(this.connections.set(_t,d),{connection:{id:_t,localDescription:wt},userData:n,status:200}):{status:500}}async deleteConnection(t,r){await t.close(r)}};var x=(e,t)=>{let r={200:"OK",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",500:"Internal Server Error"};e.statusCode=t,e.setHeader("Content-Type","text/plain"),r[t]?e.end(`${t}: ${r[t]}`):e.end(t.toString())},Tt=(e,t)=>{e.statusCode=200,e.setHeader("Content-Type","application/json"),e.end(JSON.stringify(t))},fe=e=>new Promise((t,r)=>{let o=[];e.on("error",()=>(console.log("error"),r())).on("data",n=>{o.push(n)}).on("end",()=>{try{let n=Buffer.concat(o).toString(),s=JSON.parse(n);return t(s)}catch{return r()}})});var le=async(e,t,r)=>{try{let o=t.headers,{status:n,connection:s,userData:a}=await e.createConnection(o?.authorization,t,r);if(n!==200)return n>=100&&n<600?x(r,n):x(r,500);if(!s||!s.id)return x(r,500);let{id:i,localDescription:f}=s;return!i||!f?x(r,500):Tt(r,{userData:a,id:i,localDescription:f})}catch{return x(r,500)}},ue=async(e,t,r)=>{try{let o=t.url,n=o?.match(/[0-9a-zA-Z]{24}/g),s=await fe(t);if(n&&n.length===1){let a=n[0],i=e.getConnection(a);if(!i)return x(r,404);let{sdp:f,type:l}=s;return(!f||!l)&&x(r,400),i.peerConnection.setRemoteDescription(f,l),x(r,200)}else return x(r,400)}catch{return x(r,500)}},pe=async(e,t,r)=>{try{let o=t.url,n=o?.match(/[0-9a-zA-Z]{24}/g);if(n&&n.length===1){let s=n[0],a=e.getConnection(s);if(!a)return x(r,404);let i=[...a.additionalCandidates];return a.additionalCandidates=[],Tt(r,i)}else return x(r,400)}catch{return x(r,500)}},ce=async(e,t,r)=>{try{let o=t.url,n=o?.match(/[0-9a-zA-Z]{24}/g);if(n&&n.length===1){let s=n[0],a=e.getConnection(s);return await a?.close(),x(r,200)}else return x(r,400)}catch{return x(r,500)}};var zr=(e,t,r)=>{let{origin:o,allowAuthorization:n}=r;typeof o=="function"?t.setHeader("Access-Control-Allow-Origin",o(e)):t.setHeader("Access-Control-Allow-Origin",o),t.setHeader("Access-Control-Request-Method","*"),t.setHeader("Access-Control-Request-Headers","X-Requested-With, accept, content-type"),t.setHeader("Access-Control-Allow-Methods","OPTIONS, GET, POST"),n?t.setHeader("Access-Control-Allow-Headers","authorization, content-type"):t.setHeader("Access-Control-Allow-Headers","content-type")},de=zr;var Y="/.wrtc/v2",Br=(e,t,r)=>{let o=new RegExp(Y),n=e.listeners("request").slice(0);e.removeAllListeners("request"),e.on("request",async(s,a)=>{let i=s.url,f=s.method,l=typeof i=="string"&&o.test(i)===!0;if(!l)for(var u=0;u<n.length;u++)n[u].call(e,s,a);if(l){let p=new RegExp(`${Y}/connections$`).test(i),m=new RegExp(`${Y}/connections/[0-9a-zA-Z]+/remote-description$`).test(i),O=new RegExp(`${Y}/connections/[0-9a-zA-Z]+/additional-candidates$`).test(i),C=new RegExp(`${Y}/connections/[0-9a-zA-Z]+/close$`).test(i),g=f==="POST"&&p,d=f==="POST"&&m,b=f==="GET"&&O,bt=f==="POST"&&C;if(de(s,a,r),f==="OPTIONS")return await x(a,200);g?await le(t,s,a):d?await ue(t,s,a):b?await pe(t,s,a):bt?await ce(t,s,a):await x(a,404)}})},It=Br;var me=U(require("http"),1);var Mt=class{constructor(t){var r;this._cors={origin:"*",allowAuthorization:!1},this.connectionsManager=new Z(t),typeof((r=t.cors)===null||r===void 0?void 0:r.allowAuthorization)>"u"&&typeof t.authorization=="function"&&(this._cors.allowAuthorization=!0),this._cors={...this._cors,...t.cors}}get cors(){return this._cors}get connections(){return this.connectionsManager.connections}listen(t=9208){this._port=t,this.server=me.default.createServer();let r=[];this.server.once("close",async()=>{for(let[o,n]of Array.from(this.connectionsManager.connections))r.push(n.close());await Promise.all(r),await _(Ot(),2e3),P.removeAllListeners()}),It(this.server,this.connectionsManager,this._cors),this.server.listen(t,()=>{console.log(`Geckos.io signaling server is running on port ${t}`)})}addServer(t){this.server=t;let r=[];this.server.once("close",async()=>{for(let[o,n]of Array.from(this.connectionsManager.connections))r.push(n.close());await Promise.all(r),await _(Ot(),2e3),P.removeAllListeners()}),It(this.server,this.connectionsManager,this._cors)}get port(){return this._port}emit(t,r,o){this.connections.forEach(n=>{let{channel:s}=n;o&&o.reliable?M(o,a=>s.emit(t,{MESSAGE:r,RELIABLE:1,ID:a})):s.emit(t,r)})}room(t=void 0){return{emit:(r,o)=>{this.connections.forEach(n=>{let{channel:s}=n,{roomId:a}=s;t===a&&s.emit(r,o)})}}}get raw(){return{emit:t=>this.emit(h.RAW_MESSAGE,t),room:(t=void 0)=>({emit:r=>{this.room(t).emit(h.RAW_MESSAGE,r)}})}}onConnection(t){P.on(h.CONNECTION,r=>{(n=>t(n))(r)})}},Gr=(e={})=>{let{iceTransportPolicy:t}=e;return t==="relay"&&(console.error('WARNING: iceTransportPolicy "relay" does not work yet on the server!'),e.iceTransportPolicy="all"),new Mt(e)},he=Gr;var Wr=[{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"}],Rt=Wr;var xe=he;var aa=process.cwd();var Q=class{constructor(){this.authorization=()=>!0,this.onConnection=t=>{console.log("new client connection")},this.onDisconnect=t=>{console.log("client disconnect")},this.onTick=null,this.events={}}async setup(t){global.$io=this,global.$State=et,global.$Ticker=j;let r=await import(`file://${t}`);r.authorization&&(this.authorization=r.authorization),r.onConnection&&(this.onConnection=r.onConnection),r.onDisconnect&&(this.onDisconnect=r.onDisconnect),r.onTick&&(this.onTick=r.onTick),r.onInit&&(this.onInit=r.onInit),r.events&&(this.events=r.events),this.onSetup&&this.onSetup()}connect(t){try{this.onConnection(t)}catch(r){console.error(r)}t.onDisconnect(()=>{try{this.onDisconnect(t)}catch(r){console.error(r)}}),this.setClientEvents(t)}setClientEvents(t){for(let r in this.events)t.on(r,(...o)=>{try{this.events[r](...o)}catch(n){console.error(n)}})}emit(t="",...r){}listen(){}},tt=class{constructor(t){this.id=t}emit(t="",...r){return null}on(t="",r=null){return null}onDisconnect(){}};var j=class{tickLengthMs=1e3/60;previousTick=Date.now();actualTicks=0;#t=0;startTime;#r=!1;#e=!0;#n;constructor(t=60,r=!0){r&&this.start(t)}start(t=60){t<=25&&this.disableHighAccuracy(),this.tickLengthMs=1e3/t,this.#r=!0,this.startTime=Date.now(),this.#o()}stop(){this.#r=!1}isRunning(){return this.#r}getDelta(){return this.#t}getElapsedTime(){return Date.now()-this.startTime}onTick(t){this.#n=t}#o(){if(this.#r){var t=Date.now();this.actualTicks++,this.previousTick+this.tickLengthMs<=t&&(this.#t=(t-this.previousTick)/1e3,this.previousTick=t,this.#n&&this.#n(this.#t),this.actualTicks=0),this.#e?Date.now()-this.previousTick<this.tickLengthMs-16?setTimeout(()=>this.#o()):setImmediate(()=>this.#o()):setTimeout(()=>{this.#o()},this.tickLengthMs)}}disableHighAccuracy(){this.#e=!1}enableHighAccuracy(){this.#e=!0}};var ot="insert",nt="update",ht="delete",ge="reverse",ye="shuffle",c=Symbol.for("object-observer-meta-key-0"),$r={async:1},Fr=e=>{if(!e||typeof e!="object")return null;let t={},r=[];for(let[o,n]of Object.entries(e))if(o==="path"){if(typeof n!="string"||n==="")throw new Error('"path" option, if/when provided, MUST be a non-empty string');t[o]=n}else if(o==="pathsOf"){if(e.path)throw new Error('"pathsOf" option MAY NOT be specified together with "path" option');if(typeof n!="string")throw new Error('"pathsOf" option, if/when provided, MUST be a string (MAY be empty)');t[o]=e.pathsOf.split(".").filter(Boolean)}else if(o==="pathsFrom"){if(e.path||e.pathsOf)throw new Error('"pathsFrom" option MAY NOT be specified together with "path"/"pathsOf" option/s');if(typeof n!="string"||n==="")throw new Error('"pathsFrom" option, if/when provided, MUST be a non-empty string');t[o]=n}else r.push(o);if(r.length)throw new Error(`'${r.join(", ")}' is/are not a valid observer option/s`);return t},Hr=(e,t,r)=>{let o={};o[c]=t;for(let n in e)o[n]=A(e[n],n,t,r);return o},Kr=(e,t,r)=>{let o=e.length,n=new Array(o);n[c]=t;for(let s=0;s<o;s++)n[s]=A(e[s],s,t,r);return n},Ur=(e,t)=>(e[c]=t,e),Vr=(e,t)=>{if(e===null)return t;let r=t;if(e.path){let o=e.path;r=t.filter(n=>n.path.join(".")===o)}else if(e.pathsOf){let o=e.pathsOf,n=o.join(".");r=t.filter(s=>(s.path.length===o.length+1||s.path.length===o.length&&(s.type===ge||s.type===ye))&&s.path.join(".").startsWith(n))}else if(e.pathsFrom){let o=e.pathsFrom;r=t.filter(n=>n.path.join(".").startsWith(o))}return r},ve=(e,t)=>{try{e(t)}catch(r){console.error(`failed to notify listener ${e} with ${t}`,r)}},Jr=function(){let e=this.batches;this.batches=[];for(let[t,r]of e)ve(t,r)},w=(e,t)=>{let r=e,o,n,s,a,i,f,l=t.length;do{for(o=r.options.async,n=r.observers,f=n.length;f--;)if([s,a]=n[f],i=Vr(a,t),i.length)if(o){r.batches.length===0&&queueMicrotask(Jr.bind(r));let p;for(let m of r.batches)if(m[0]===s){p=m;break}p||(p=[s,[]],r.batches.push(p)),Array.prototype.push.apply(p[1],i)}else ve(s,i);let u=r.parent;if(u){for(let p=0;p<l;p++){let m=t[p];t[p]=new y(m.type,[r.ownKey,...m.path],m.value,m.oldValue,m.object)}r=u}else r=null}while(r)},A=(e,t,r,o)=>o!==void 0&&o.has(e)?null:typeof e!="object"||e===null?e:Array.isArray(e)?new dt({target:e,ownKey:t,parent:r,visited:o}).proxy:ArrayBuffer.isView(e)?new mt({target:e,ownKey:t,parent:r}).proxy:e instanceof Date?e:new ct({target:e,ownKey:t,parent:r,visited:o}).proxy,qr=function(){let e=this[c],t=e.target,r=t.length-1,o=t.pop();if(o&&typeof o=="object"){let s=o[c];s&&(o=s.detach())}let n=[new y(ht,[r],void 0,o,this)];return w(e,n),o},Xr=function(){let e=this[c],t=e.target,r=arguments.length,o=new Array(r),n=t.length;for(let i=0;i<r;i++)o[i]=A(arguments[i],n+i,e);let s=Reflect.apply(t.push,t,o),a=[];for(let i=n,f=t.length;i<f;i++)a[i-n]=new y(ot,[i],t[i],void 0,this);return w(e,a),s},Zr=function(){let e=this[c],t=e.target,r,o,n,s,a;for(r=t.shift(),r&&typeof r=="object"&&(a=r[c],a&&(r=a.detach())),o=0,n=t.length;o<n;o++)s=t[o],s&&typeof s=="object"&&(a=s[c],a&&(a.ownKey=o));let i=[new y(ht,[0],void 0,r,this)];return w(e,i),r},Yr=function(){let e=this[c],t=e.target,r=arguments.length,o=new Array(r);for(let i=0;i<r;i++)o[i]=A(arguments[i],i,e);let n=Reflect.apply(t.unshift,t,o);for(let i=0,f=t.length,l;i<f;i++)if(l=t[i],l&&typeof l=="object"){let u=l[c];u&&(u.ownKey=i)}let s=o.length,a=new Array(s);for(let i=0;i<s;i++)a[i]=new y(ot,[i],t[i],void 0,this);return w(e,a),n},be=function(){let e=this[c],t=e.target,r,o,n;for(t.reverse(),r=0,o=t.length;r<o;r++)if(n=t[r],n&&typeof n=="object"){let a=n[c];a&&(a.ownKey=r)}let s=[new y(ge,[],void 0,void 0,this)];return w(e,s),this},we=function(e){let t=this[c],r=t.target,o,n,s;for(r.sort(e),o=0,n=r.length;o<n;o++)if(s=r[o],s&&typeof s=="object"){let i=s[c];i&&(i.ownKey=o)}let a=[new y(ye,[],void 0,void 0,this)];return w(t,a),this},_e=function(e,t,r){let o=this[c],n=o.target,s=[],a=n.length,i=n.slice(0);if(t=t===void 0?0:t<0?Math.max(a+t,0):Math.min(t,a),r=r===void 0?a:r<0?Math.max(a+r,0):Math.min(r,a),t<a&&r>t){n.fill(e,t,r);let f;for(let l=t,u,p;l<r;l++)u=n[l],n[l]=A(u,l,o),l in i?(p=i[l],p&&typeof p=="object"&&(f=p[c],f&&(p=f.detach())),s.push(new y(nt,[l],n[l],p,this))):s.push(new y(ot,[l],n[l],void 0,this));w(o,s)}return this},Ee=function(e,t,r){let o=this[c],n=o.target,s=n.length;e=e<0?Math.max(s+e,0):e,t=t===void 0?0:t<0?Math.max(s+t,0):Math.min(t,s),r=r===void 0?s:r<0?Math.max(s+r,0):Math.min(r,s);let a=Math.min(r-t,s-e);if(e<s&&e!==t&&a>0){let i=n.slice(0),f=[];n.copyWithin(e,t,r);for(let l=e,u,p,m;l<e+a;l++)u=n[l],u&&typeof u=="object"&&(u=A(u,l,o),n[l]=u),p=i[l],p&&typeof p=="object"&&(m=p[c],m&&(p=m.detach())),!(typeof u!="object"&&u===p)&&f.push(new y(nt,[l],u,p,this));w(o,f)}return this},Qr=function(){let e=this[c],t=e.target,r=arguments.length,o=new Array(r),n=t.length;for(let d=0;d<r;d++)o[d]=A(arguments[d],d,e);let s=r===0?0:o[0]<0?n+o[0]:o[0],a=r<2?n-s:o[1],i=Math.max(r-2,0),f=Reflect.apply(t.splice,t,o),l=t.length,u;for(let d=0,b;d<l;d++)b=t[d],b&&typeof b=="object"&&(u=b[c],u&&(u.ownKey=d));let p,m,O;for(p=0,m=f.length;p<m;p++)O=f[p],O&&typeof O=="object"&&(u=O[c],u&&(f[p]=u.detach()));let C=[],g;for(g=0;g<a;g++)g<i?C.push(new y(nt,[s+g],t[s+g],f[g],this)):C.push(new y(ht,[s+g],void 0,f[g],this));for(;g<i;g++)C.push(new y(ot,[s+g],t[s+g],void 0,this));return w(e,C),f},to=function(e,t){let r=this[c],o=r.target,n=e.length,s=o.slice(0);t=t||0,o.set(e,t);let a=new Array(n);for(let i=t;i<n+t;i++)a[i-t]=new y(nt,[i],o[i],s[i],this);w(r,a)},eo={pop:qr,push:Xr,shift:Zr,unshift:Yr,reverse:be,sort:we,fill:_e,copyWithin:Ee,splice:Qr},ro={reverse:be,sort:we,fill:_e,copyWithin:Ee,set:to},y=class{constructor(t,r,o,n,s){this.type=t,this.path=r,this.value=o,this.oldValue=n,this.object=s}},rt=class{constructor(t,r){let{target:o,parent:n,ownKey:s,visited:a=new Set}=t;n&&s!==void 0?(this.parent=n,this.ownKey=s):(this.parent=null,this.ownKey=null),a.add(o);let i=r(o,this,a);a.delete(o),this.observers=[],this.revocable=Proxy.revocable(i,this),this.proxy=this.revocable.proxy,this.target=i,this.options=this.processOptions(t.options),this.options.async&&(this.batches=[])}processOptions(t){if(t){if(typeof t!="object")throw new Error(`Observable options if/when provided, MAY only be an object, got '${t}'`);let r=Object.keys(t).filter(o=>!(o in $r));if(r.length)throw new Error(`'${r.join(", ")}' is/are not a valid Observable option/s`);return Object.assign({},t)}else return{}}detach(){return this.parent=null,this.target}set(t,r,o){let n=t[r];if(o!==n){let s=A(o,r,this);if(t[r]=s,n&&typeof n=="object"){let i=n[c];i&&(n=i.detach())}let a=n===void 0?[new y(ot,[r],s,void 0,this.proxy)]:[new y(nt,[r],s,n,this.proxy)];w(this,a)}return!0}deleteProperty(t,r){let o=t[r];if(delete t[r],o&&typeof o=="object"){let s=o[c];s&&(o=s.detach())}let n=[new y(ht,[r],void 0,o,this.proxy)];return w(this,n),!0}},ct=class extends rt{constructor(t){super(t,Hr)}},dt=class extends rt{constructor(t){super(t,Kr)}get(t,r){return eo[r]||t[r]}},mt=class extends rt{constructor(t){super(t,Ur)}get(t,r){return ro[r]||t[r]}},L=Object.freeze({from:(e,t)=>{if(!e||typeof e!="object")throw new Error("observable MAY ONLY be created from a non-null object");if(e[c])return e;if(Array.isArray(e))return new dt({target:e,ownKey:null,parent:null,options:t}).proxy;if(ArrayBuffer.isView(e))return new mt({target:e,ownKey:null,parent:null,options:t}).proxy;if(e instanceof Date)throw new Error(`${e} found to be one of a non-observable types`);return new ct({target:e,ownKey:null,parent:null,options:t}).proxy},isObservable:e=>!!(e&&e[c]),observe:(e,t,r)=>{if(!L.isObservable(e))throw new Error("invalid observable parameter");if(typeof t!="function")throw new Error(`observer MUST be a function, got '${t}'`);let o=e[c].observers;o.some(n=>n[0]===t)?console.warn("observer may be bound to an observable only once; will NOT rebind"):o.push([t,Fr(r)])},unobserve:(e,...t)=>{if(!L.isObservable(e))throw new Error("invalid observable parameter");let r=e[c].observers,o=r.length;if(o){if(!t.length){r.splice(0);return}for(;o;)t.indexOf(r[--o][0])>=0&&r.splice(o,1)}}});var oo=typeof global=="object"&&global&&global.Object===Object&&global,Se=oo;var no=typeof self=="object"&&self&&self.Object===Object&&self,so=Se||no||Function("return this")(),k=so;var ao=k.Symbol,E=ao;var Oe=Object.prototype,io=Oe.hasOwnProperty,fo=Oe.toString,st=E?E.toStringTag:void 0;function lo(e){var t=io.call(e,st),r=e[st];try{e[st]=void 0;var o=!0}catch{}var n=fo.call(e);return o&&(t?e[st]=r:delete e[st]),n}var Ce=lo;var uo=Object.prototype,po=uo.toString;function co(e){return po.call(e)}var Ae=co;var mo="[object Null]",ho="[object Undefined]",Te=E?E.toStringTag:void 0;function xo(e){return e==null?e===void 0?ho:mo:Te&&Te in Object(e)?Ce(e):Ae(e)}var xt=xo;function go(e){return e!=null&&typeof e=="object"}var Ie=go;var yo="[object Symbol]";function vo(e){return typeof e=="symbol"||Ie(e)&&xt(e)==yo}var z=vo;function bo(e,t){for(var r=-1,o=e==null?0:e.length,n=Array(o);++r<o;)n[r]=t(e[r],r,e);return n}var Me=bo;var wo=Array.isArray,B=wo;var _o=1/0,Re=E?E.prototype:void 0,De=Re?Re.toString:void 0;function Pe(e){if(typeof e=="string")return e;if(B(e))return Me(e,Pe)+"";if(z(e))return De?De.call(e):"";var t=e+"";return t=="0"&&1/e==-_o?"-0":t}var Ne=Pe;function Eo(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var R=Eo;var So="[object AsyncFunction]",Oo="[object Function]",Co="[object GeneratorFunction]",Ao="[object Proxy]";function To(e){if(!R(e))return!1;var t=xt(e);return t==Oo||t==Co||t==So||t==Ao}var je=To;var Io=k["__core-js_shared__"],gt=Io;var Le=function(){var e=/[^.]+$/.exec(gt&&gt.keys&&gt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Mo(e){return!!Le&&Le in e}var ke=Mo;var Ro=Function.prototype,Do=Ro.toString;function Po(e){if(e!=null){try{return Do.call(e)}catch{}try{return e+""}catch{}}return""}var ze=Po;var No=/[\\^$.*+?()[\]{}|]/g,jo=/^\[object .+?Constructor\]$/,Lo=Function.prototype,ko=Object.prototype,zo=Lo.toString,Bo=ko.hasOwnProperty,Go=RegExp("^"+zo.call(Bo).replace(No,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wo(e){if(!R(e)||ke(e))return!1;var t=je(e)?Go:jo;return t.test(ze(e))}var Be=Wo;function $o(e,t){return e?.[t]}var Ge=$o;function Fo(e,t){var r=Ge(e,t);return Be(r)?r:void 0}var G=Fo;var Ho=function(){try{var e=G(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Dt=Ho;var Ko=9007199254740991,Uo=/^(?:0|[1-9]\d*)$/;function Vo(e,t){var r=typeof e;return t=t??Ko,!!t&&(r=="number"||r!="symbol"&&Uo.test(e))&&e>-1&&e%1==0&&e<t}var We=Vo;function Jo(e,t,r){t=="__proto__"&&Dt?Dt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var $e=Jo;function qo(e,t){return e===t||e!==e&&t!==t}var yt=qo;var Xo=Object.prototype,Zo=Xo.hasOwnProperty;function Yo(e,t,r){var o=e[t];(!(Zo.call(e,t)&&yt(o,r))||r===void 0&&!(t in e))&&$e(e,t,r)}var Fe=Yo;var Qo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tn=/^\w*$/;function en(e,t){if(B(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||z(e)?!0:tn.test(e)||!Qo.test(e)||t!=null&&e in Object(t)}var He=en;var rn=G(Object,"create"),S=rn;function on(){this.__data__=S?S(null):{},this.size=0}var Ke=on;function nn(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ue=nn;var sn="__lodash_hash_undefined__",an=Object.prototype,fn=an.hasOwnProperty;function ln(e){var t=this.__data__;if(S){var r=t[e];return r===sn?void 0:r}return fn.call(t,e)?t[e]:void 0}var Ve=ln;var un=Object.prototype,pn=un.hasOwnProperty;function cn(e){var t=this.__data__;return S?t[e]!==void 0:pn.call(t,e)}var Je=cn;var dn="__lodash_hash_undefined__";function mn(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=S&&t===void 0?dn:t,this}var qe=mn;function W(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}W.prototype.clear=Ke;W.prototype.delete=Ue;W.prototype.get=Ve;W.prototype.has=Je;W.prototype.set=qe;var Pt=W;function hn(){this.__data__=[],this.size=0}var Xe=hn;function xn(e,t){for(var r=e.length;r--;)if(yt(e[r][0],t))return r;return-1}var T=xn;var gn=Array.prototype,yn=gn.splice;function vn(e){var t=this.__data__,r=T(t,e);if(r<0)return!1;var o=t.length-1;return r==o?t.pop():yn.call(t,r,1),--this.size,!0}var Ze=vn;function bn(e){var t=this.__data__,r=T(t,e);return r<0?void 0:t[r][1]}var Ye=bn;function wn(e){return T(this.__data__,e)>-1}var Qe=wn;function _n(e,t){var r=this.__data__,o=T(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}var tr=_n;function $(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}$.prototype.clear=Xe;$.prototype.delete=Ze;$.prototype.get=Ye;$.prototype.has=Qe;$.prototype.set=tr;var er=$;var En=G(k,"Map"),rr=En;function Sn(){this.size=0,this.__data__={hash:new Pt,map:new(rr||er),string:new Pt}}var or=Sn;function On(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var nr=On;function Cn(e,t){var r=e.__data__;return nr(t)?r[typeof t=="string"?"string":"hash"]:r.map}var I=Cn;function An(e){var t=I(this,e).delete(e);return this.size-=t?1:0,t}var sr=An;function Tn(e){return I(this,e).get(e)}var ar=Tn;function In(e){return I(this,e).has(e)}var ir=In;function Mn(e,t){var r=I(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}var fr=Mn;function F(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}F.prototype.clear=or;F.prototype.delete=sr;F.prototype.get=ar;F.prototype.has=ir;F.prototype.set=fr;var Nt=F;var Rn="Expected a function";function jt(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Rn);var r=function(){var o=arguments,n=t?t.apply(this,o):o[0],s=r.cache;if(s.has(n))return s.get(n);var a=e.apply(this,o);return r.cache=s.set(n,a)||s,a};return r.cache=new(jt.Cache||Nt),r}jt.Cache=Nt;var lr=jt;var Dn=500;function Pn(e){var t=lr(e,function(o){return r.size===Dn&&r.clear(),o}),r=t.cache;return t}var ur=Pn;var Nn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jn=/\\(\\)?/g,Ln=ur(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Nn,function(r,o,n,s){t.push(n?s.replace(jn,"$1"):o||r)}),t}),pr=Ln;function kn(e){return e==null?"":Ne(e)}var cr=kn;function zn(e,t){return B(e)?e:He(e,t)?[e]:pr(cr(e))}var H=zn;var Bn=1/0;function Gn(e){if(typeof e=="string"||z(e))return e;var t=e+"";return t=="0"&&1/e==-Bn?"-0":t}var K=Gn;function Wn(e,t){t=H(t,e);for(var r=0,o=t.length;e!=null&&r<o;)e=e[K(t[r++])];return r&&r==o?e:void 0}var vt=Wn;function $n(e,t,r){var o=e==null?void 0:vt(e,t);return o===void 0?r:o}var Lt=$n;function Fn(e,t,r){var o=-1,n=e.length;t<0&&(t=-t>n?0:n+t),r=r>n?n:r,r<0&&(r+=n),n=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(n);++o<n;)s[o]=e[o+t];return s}var dr=Fn;function Hn(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var mr=Hn;function Kn(e,t){return t.length<2?e:vt(e,dr(t,0,-1))}var hr=Kn;function Un(e,t){return t=H(t,e),e=hr(e,t),e==null||delete e[K(mr(t))]}var xr=Un;function Vn(e,t,r,o){if(!R(e))return e;t=H(t,e);for(var n=-1,s=t.length,a=s-1,i=e;i!=null&&++n<s;){var f=K(t[n]),l=r;if(f==="__proto__"||f==="constructor"||f==="prototype")return e;if(n!=a){var u=i[f];l=o?o(u,f,i):void 0,l===void 0&&(l=R(u)?u:We(t[n+1])?[]:{})}Fe(i,f,l),i=i[f]}return e}var gr=Vn;function Jn(e,t,r){return e==null?e:gr(e,t,r)}var kt=Jn;function qn(e,t){return e==null?!0:xr(e,t)}var zt=qn;var et=class{#t;constructor(t,r={}){this.name=t,this.#t=L.from(r)}set(t,r){return kt(this.#t,t,r),this}get(t=null){return t?Lt(this.#t,t):this.json()}delete(t){return zt(this.#t,t)}sync(t,r=null){let o=n=>{let s=[];for(let a of n)s.push({type:a.type,path:a.path,value:a.value});t.emit(`sync:${this.name}`,s)};r?this.subscribe(r,o):this.onChange(o),t.on(`sync:${this.name}:init`,()=>{let n=r?{[r]:this.get(r)}:this.get();t.emit(`sync:${this.name}:init`,n)})}subscribe(t,r){L.observe(this.#t,r,{pathsOf:t})}onChange(t){L.observe(this.#t,r=>{t(r)})}json(){return JSON.parse(JSON.stringify(this.#t))}};var Bt=class extends tt{#t;constructor(t){super(t.id),this.#t=t}emit(t,...r){this.#t.emit(t,...r)}on(t,r){this.#t.on(t,o=>{try{r(this,o)}catch(n){console.log(n)}})}onDisconnect(t){try{this.#t.onDisconnect(t)}catch(r){console.log(r)}}},Gt=class extends Q{#t;#r;#e;constructor(t={port:9208}){super();let{port:r}=t;this.isRunning=!1,this.#r=r,this.#e={iceServers:Rt}}client(t){return new Bt(t)}emit(t="",...r){this.isRunning&&this.#t.emit(t,r)}listen(){this.#t=xe(this.#e),this.#t.listen(this.#r),this.#t.onConnection(t=>{this.connect(this.client(t))}),this.isRunning=!0}onSetup(){this.setAuthorization(this.authorization)}setAuthorization(t){if(typeof t=="function")this.#e.cors={allowAuthorization:!0},this.#e.authorization=t;else throw new Error("authorization is not a function.")}};0&&(module.exports={Server});
/*! Bundled license information:

@yandeu/events/cjs/index.js:
  (**
   * @package      npmjs.com/package/@yandeu/events (events.min.js)
   *
   * @author       Arnout Kazemier (https://github.com/3rd-Eden)
   * @copyright    Copyright (c) 2014 Arnout Kazemier
   * @license      {@link https://github.com/primus/eventemitter3/blob/master/LICENSE|MIT}
   *
   * @author       Yannick Deubel (https://github.com/yandeu)
   * @copyright    Copyright (c) 2021 Yannick Deubel; Project Url: https://github.com/yandeu/events
   * @license      {@link https://github.com/yandeu/events/blob/master/LICENSE|MIT}
   *)

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
