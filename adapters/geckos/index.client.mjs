var fe=Object.create;var V=Object.defineProperty;var ue=Object.getOwnPropertyDescriptor;var pe=Object.getOwnPropertyNames;var de=Object.getPrototypeOf,ge=Object.prototype.hasOwnProperty;var W=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var ye=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of pe(e))!ge.call(r,s)&&s!==t&&V(r,s,{get:()=>e[s],enumerable:!(n=ue(e,s))||n.enumerable});return r};var me=(r,e,t)=>(t=r!=null?fe(de(r)):{},ye(e||!r||!r.__esModule?V(t,"default",{value:r,enumerable:!0}):t,r));var Q=W(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.VERSION=void 0;I.VERSION="0.0.6"});var ne=W(E=>{"use strict";var ee=E&&E.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(E,"__esModule",{value:!0});E.Events=void 0;var Ne=Q(),je=function(){function r(e,t,n){n===void 0&&(n=!1),this.fn=e,this.context=t,this.once=n}return r}(),te=function(r,e,t,n,s){if(typeof t!="function")throw new TypeError("The listener must be a function");var o=new je(t,n||r,s);return r._events.has(e)?r._events.get(e).fn?r._events.set(e,[r._events.get(e),o]):r._events.get(e).push(o):(r._events.set(e,o),r._eventsCount++),r},L=function(r,e){--r._eventsCount===0?r._events=new Map:r._events.delete(e)},ke=function(){function r(){this._events=new Map,this._eventsCount=0}return Object.defineProperty(r,"VERSION",{get:function(){return Ne.VERSION},enumerable:!1,configurable:!0}),r.prototype.eventNames=function(){return Array.from(this._events.keys())},r.prototype.listeners=function(e){var t=this._events.get(e);if(!t)return[];if(t.fn)return[t.fn];for(var n=0,s=t.length,o=new Array(s);n<s;n++)o[n]=t[n].fn;return o},r.prototype.listenerCount=function(e){var t=this._events.get(e);return t?t.fn?1:t.length:0},r.prototype.emit=function(e){for(var t,n,s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];if(!this._events.has(e))return!1;var a=this._events.get(e),i;if(a.fn)return a.once&&this.removeListener(e,a.fn,void 0,!0),(t=a.fn).call.apply(t,ee([a.context],s,!1)),!0;var f=a.length;for(i=0;i<f;i++)a[i].once&&this.removeListener(e,a[i].fn,void 0,!0),(n=a[i].fn).call.apply(n,ee([a[i].context],s,!1));return!0},r.prototype.on=function(e,t,n){return te(this,e,t,n,!1)},r.prototype.once=function(e,t,n){return te(this,e,t,n,!0)},r.prototype.removeListener=function(e,t,n,s){if(!this._events.has(e))return this;if(!t)return L(this,e),this;var o=this._events.get(e);if(o.fn)o.fn===t&&(!s||o.once)&&(!n||o.context===n)&&L(this,e);else{for(var a=0,i=[],f=o.length;a<f;a++)(o[a].fn!==t||s&&!o[a].once||n&&o[a].context!==n)&&i.push(o[a]);i.length?this._events.set(e,i.length===1?i[0]:i):L(this,e)}return this},r.prototype.removeAllListeners=function(e){return e?this._events.delete(e)&&L(this,e):(this._events=new Map,this._eventsCount=0),this},Object.defineProperty(r.prototype,"off",{get:function(){return this.removeListener},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"addListener",{get:function(){return this.on},enumerable:!1,configurable:!0}),r}();E.Events=ke});var C="insert",M="update",j="delete",U="reverse",J="shuffle",u=Symbol.for("object-observer-meta-key-0"),ve={async:1},be=r=>{if(!r||typeof r!="object")return null;let e={},t=[];for(let[n,s]of Object.entries(r))if(n==="path"){if(typeof s!="string"||s==="")throw new Error('"path" option, if/when provided, MUST be a non-empty string');e[n]=s}else if(n==="pathsOf"){if(r.path)throw new Error('"pathsOf" option MAY NOT be specified together with "path" option');if(typeof s!="string")throw new Error('"pathsOf" option, if/when provided, MUST be a string (MAY be empty)');e[n]=r.pathsOf.split(".").filter(Boolean)}else if(n==="pathsFrom"){if(r.path||r.pathsOf)throw new Error('"pathsFrom" option MAY NOT be specified together with "path"/"pathsOf" option/s');if(typeof s!="string"||s==="")throw new Error('"pathsFrom" option, if/when provided, MUST be a non-empty string');e[n]=s}else t.push(n);if(t.length)throw new Error(`'${t.join(", ")}' is/are not a valid observer option/s`);return e},we=(r,e,t)=>{let n={};n[u]=e;for(let s in r)n[s]=b(r[s],s,e,t);return n},Ee=(r,e,t)=>{let n=r.length,s=new Array(n);s[u]=e;for(let o=0;o<n;o++)s[o]=b(r[o],o,e,t);return s},Oe=(r,e)=>(r[u]=e,r),Se=(r,e)=>{if(r===null)return e;let t=e;if(r.path){let n=r.path;t=e.filter(s=>s.path.join(".")===n)}else if(r.pathsOf){let n=r.pathsOf,s=n.join(".");t=e.filter(o=>(o.path.length===n.length+1||o.path.length===n.length&&(o.type===U||o.type===J))&&o.path.join(".").startsWith(s))}else if(r.pathsFrom){let n=r.pathsFrom;t=e.filter(s=>s.path.join(".").startsWith(n))}return t},Y=(r,e)=>{try{r(e)}catch(t){console.error(`failed to notify listener ${r} with ${e}`,t)}},Ce=function(){let r=this.batches;this.batches=[];for(let[e,t]of r)Y(e,t)},y=(r,e)=>{let t=r,n,s,o,a,i,f,c=e.length;do{for(n=t.options.async,s=t.observers,f=s.length;f--;)if([o,a]=s[f],i=Se(a,e),i.length)if(n){t.batches.length===0&&queueMicrotask(Ce.bind(t));let h;for(let p of t.batches)if(p[0]===o){h=p;break}h||(h=[o,[]],t.batches.push(h)),Array.prototype.push.apply(h[1],i)}else Y(o,i);let l=t.parent;if(l){for(let h=0;h<c;h++){let p=e[h];e[h]=new d(p.type,[t.ownKey,...p.path],p.value,p.oldValue,p.object)}t=l}else t=null}while(t)},b=(r,e,t,n)=>n!==void 0&&n.has(r)?null:typeof r!="object"||r===null?r:Array.isArray(r)?new x({target:r,ownKey:e,parent:t,visited:n}).proxy:ArrayBuffer.isView(r)?new N({target:r,ownKey:e,parent:t}).proxy:r instanceof Date?r:new P({target:r,ownKey:e,parent:t,visited:n}).proxy,Me=function(){let r=this[u],e=r.target,t=e.length-1,n=e.pop();if(n&&typeof n=="object"){let o=n[u];o&&(n=o.detach())}let s=[new d(j,[t],void 0,n,this)];return y(r,s),n},Te=function(){let r=this[u],e=r.target,t=arguments.length,n=new Array(t),s=e.length;for(let i=0;i<t;i++)n[i]=b(arguments[i],s+i,r);let o=Reflect.apply(e.push,e,n),a=[];for(let i=s,f=e.length;i<f;i++)a[i-s]=new d(C,[i],e[i],void 0,this);return y(r,a),o},_e=function(){let r=this[u],e=r.target,t,n,s,o,a;for(t=e.shift(),t&&typeof t=="object"&&(a=t[u],a&&(t=a.detach())),n=0,s=e.length;n<s;n++)o=e[n],o&&typeof o=="object"&&(a=o[u],a&&(a.ownKey=n));let i=[new d(j,[0],void 0,t,this)];return y(r,i),t},Ae=function(){let r=this[u],e=r.target,t=arguments.length,n=new Array(t);for(let i=0;i<t;i++)n[i]=b(arguments[i],i,r);let s=Reflect.apply(e.unshift,e,n);for(let i=0,f=e.length,c;i<f;i++)if(c=e[i],c&&typeof c=="object"){let l=c[u];l&&(l.ownKey=i)}let o=n.length,a=new Array(o);for(let i=0;i<o;i++)a[i]=new d(C,[i],e[i],void 0,this);return y(r,a),s},H=function(){let r=this[u],e=r.target,t,n,s;for(e.reverse(),t=0,n=e.length;t<n;t++)if(s=e[t],s&&typeof s=="object"){let a=s[u];a&&(a.ownKey=t)}let o=[new d(U,[],void 0,void 0,this)];return y(r,o),this},X=function(r){let e=this[u],t=e.target,n,s,o;for(t.sort(r),n=0,s=t.length;n<s;n++)if(o=t[n],o&&typeof o=="object"){let i=o[u];i&&(i.ownKey=n)}let a=[new d(J,[],void 0,void 0,this)];return y(e,a),this},q=function(r,e,t){let n=this[u],s=n.target,o=[],a=s.length,i=s.slice(0);if(e=e===void 0?0:e<0?Math.max(a+e,0):Math.min(e,a),t=t===void 0?a:t<0?Math.max(a+t,0):Math.min(t,a),e<a&&t>e){s.fill(r,e,t);let f;for(let c=e,l,h;c<t;c++)l=s[c],s[c]=b(l,c,n),c in i?(h=i[c],h&&typeof h=="object"&&(f=h[u],f&&(h=f.detach())),o.push(new d(M,[c],s[c],h,this))):o.push(new d(C,[c],s[c],void 0,this));y(n,o)}return this},Z=function(r,e,t){let n=this[u],s=n.target,o=s.length;r=r<0?Math.max(o+r,0):r,e=e===void 0?0:e<0?Math.max(o+e,0):Math.min(e,o),t=t===void 0?o:t<0?Math.max(o+t,0):Math.min(t,o);let a=Math.min(t-e,o-r);if(r<o&&r!==e&&a>0){let i=s.slice(0),f=[];s.copyWithin(r,e,t);for(let c=r,l,h,p;c<r+a;c++)l=s[c],l&&typeof l=="object"&&(l=b(l,c,n),s[c]=l),h=i[c],h&&typeof h=="object"&&(p=h[u],p&&(h=p.detach())),!(typeof l!="object"&&l===h)&&f.push(new d(M,[c],l,h,this));y(n,f)}return this},De=function(){let r=this[u],e=r.target,t=arguments.length,n=new Array(t),s=e.length;for(let v=0;v<t;v++)n[v]=b(arguments[v],v,r);let o=t===0?0:n[0]<0?s+n[0]:n[0],a=t<2?s-o:n[1],i=Math.max(t-2,0),f=Reflect.apply(e.splice,e,n),c=e.length,l;for(let v=0,R;v<c;v++)R=e[v],R&&typeof R=="object"&&(l=R[u],l&&(l.ownKey=v));let h,p,O;for(h=0,p=f.length;h<p;h++)O=f[h],O&&typeof O=="object"&&(l=O[u],l&&(f[h]=l.detach()));let w=[],g;for(g=0;g<a;g++)g<i?w.push(new d(M,[o+g],e[o+g],f[g],this)):w.push(new d(j,[o+g],void 0,f[g],this));for(;g<i;g++)w.push(new d(C,[o+g],e[o+g],void 0,this));return y(r,w),f},Re=function(r,e){let t=this[u],n=t.target,s=r.length,o=n.slice(0);e=e||0,n.set(r,e);let a=new Array(s);for(let i=e;i<s+e;i++)a[i-e]=new d(M,[i],n[i],o[i],this);y(t,a)},Pe={pop:Me,push:Te,shift:_e,unshift:Ae,reverse:H,sort:X,fill:q,copyWithin:Z,splice:De},xe={reverse:H,sort:X,fill:q,copyWithin:Z,set:Re},d=class{constructor(e,t,n,s,o){this.type=e,this.path=t,this.value=n,this.oldValue=s,this.object=o}},S=class{constructor(e,t){let{target:n,parent:s,ownKey:o,visited:a=new Set}=e;s&&o!==void 0?(this.parent=s,this.ownKey=o):(this.parent=null,this.ownKey=null),a.add(n);let i=t(n,this,a);a.delete(n),this.observers=[],this.revocable=Proxy.revocable(i,this),this.proxy=this.revocable.proxy,this.target=i,this.options=this.processOptions(e.options),this.options.async&&(this.batches=[])}processOptions(e){if(e){if(typeof e!="object")throw new Error(`Observable options if/when provided, MAY only be an object, got '${e}'`);let t=Object.keys(e).filter(n=>!(n in ve));if(t.length)throw new Error(`'${t.join(", ")}' is/are not a valid Observable option/s`);return Object.assign({},e)}else return{}}detach(){return this.parent=null,this.target}set(e,t,n){let s=e[t];if(n!==s){let o=b(n,t,this);if(e[t]=o,s&&typeof s=="object"){let i=s[u];i&&(s=i.detach())}let a=s===void 0?[new d(C,[t],o,void 0,this.proxy)]:[new d(M,[t],o,s,this.proxy)];y(this,a)}return!0}deleteProperty(e,t){let n=e[t];if(delete e[t],n&&typeof n=="object"){let o=n[u];o&&(n=o.detach())}let s=[new d(j,[t],void 0,n,this.proxy)];return y(this,s),!0}},P=class extends S{constructor(e){super(e,we)}},x=class extends S{constructor(e){super(e,Ee)}get(e,t){return Pe[t]||e[t]}},N=class extends S{constructor(e){super(e,Oe)}get(e,t){return xe[t]||e[t]}},G=Object.freeze({from:(r,e)=>{if(!r||typeof r!="object")throw new Error("observable MAY ONLY be created from a non-null object");if(r[u])return r;if(Array.isArray(r))return new x({target:r,ownKey:null,parent:null,options:e}).proxy;if(ArrayBuffer.isView(r))return new N({target:r,ownKey:null,parent:null,options:e}).proxy;if(r instanceof Date)throw new Error(`${r} found to be one of a non-observable types`);return new P({target:r,ownKey:null,parent:null,options:e}).proxy},isObservable:r=>!!(r&&r[u]),observe:(r,e,t)=>{if(!G.isObservable(r))throw new Error("invalid observable parameter");if(typeof e!="function")throw new Error(`observer MUST be a function, got '${e}'`);let n=r[u].observers;n.some(s=>s[0]===e)?console.warn("observer may be bound to an observable only once; will NOT rebind"):n.push([e,be(t)])},unobserve:(r,...e)=>{if(!G.isObservable(r))throw new Error("invalid observable parameter");let t=r[u].observers,n=t.length;if(n){if(!e.length){t.splice(0);return}for(;n;)e.indexOf(t[--n][0])>=0&&t.splice(n,1)}}});var k=class{constructor(e){this.id=e}emit(e="",...t){return null}on(e="",t=null){return null}onDisconnect(){}};var re=me(ne(),1),T=class{constructor(){this.eventEmitter=new re.Events}emit(e,t,n={}){this.eventEmitter.emit(e,t,n)}on(e,t){return this.eventEmitter.on(e,(n,s)=>{t(n,s)})}removeAllListeners(){this.eventEmitter.removeAllListeners()}},et=new T;var m={CONNECT:"connect",CONNECTION:"connection",DATA_CHANNEL_IS_OPEN:"dataChannelIsOpen",DISCONNECT:"disconnect",DISCONNECTED:"disconnected",DROP:"dropped",ERROR:"error",RAW_MESSAGE:"rawMessage",RECEIVED_FROM_DATA_CHANNEL:"receiveFromDataChannel",SEND_OVER_DATA_CHANNEL:"sendOverDataChannel"},$={BROWSER_NOT_SUPPORTED:"BROWSER_NOT_SUPPORTED",COULD_NOT_PARSE_MESSAGE:"COULD_NOT_PARSE_MESSAGE",DROPPED_FROM_BUFFERING:"DROPPED_FROM_BUFFERING",MAX_MESSAGE_SIZE_EXCEEDED:"MAX_MESSAGE_SIZE_EXCEEDED"};var se=Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array)).constructor;var ot=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,B=r=>typeof r=="string",_=r=>r instanceof ArrayBuffer||r instanceof se,oe=r=>{try{return typeof r!="string"||!isNaN(parseInt(r))?!1:(JSON.parse(r),!0)}catch{return!1}};var Ie=r=>{let{data:e}=r;e||(e=r);let t=_(e),n=oe(e),s=B(e);if(n){let o=JSON.parse(e),a=Object.keys(o)[0],i=o[a];return{key:a,data:i}}return t?{key:m.RAW_MESSAGE,data:e}:s?{key:m.RAW_MESSAGE,data:e}:{key:"error",data:new Error($.COULD_NOT_PARSE_MESSAGE)}},ie=Ie;var Le=(r,e,t,n=null)=>{var s;let o=(a,i)=>{var f;let c=(f=a.byteLength)!==null&&f!==void 0?f:a.length*2;if(typeof e=="number"&&c>e)throw new Error(`maxMessageSize of ${e} exceeded`);Promise.resolve().then(()=>{r.send?r.send(a):i?r.sendMessageBinary(Buffer.from(a)):r.sendMessage(a)}).catch(l=>{console.log("error",l)})};if(r&&(r.readyState==="open"||!((s=r.isOpen)===null||s===void 0)&&s.call(r)))try{t===m.RAW_MESSAGE&&n!==null&&(B(n)||_(n))?o(n,_(n)):o(JSON.stringify({[t]:n}),!1)}catch(a){return console.error("Error in sendMessage.ts: ",a.message),a}},ae=Le;var A=class{emit(e,t=null){ae(this.dataChannel,this.maxMessageSize,e,t)}constructor(e,t,n,s){this.url=e,this.authorization=t,this.label=n,this.rtcConfiguration=s,this.bridge=new T,this.onDataChannel=o=>{let{channel:a}=o;a.label===this.label&&(this.dataChannel=a,this.dataChannel.binaryType="arraybuffer",this.dataChannel.onmessage=i=>{let{key:f,data:c}=ie(i);this.bridge.emit(f,c)})}}async fetchAdditionalCandidates(e,t){var n;if(((n=this.dataChannel)===null||n===void 0?void 0:n.readyState)==="closed")return;let s=await fetch(`${e}/connections/${t}/additional-candidates`,{method:"GET",headers:{"Content-Type":"application/json"}});s.ok&&(await s.json()).forEach(a=>{this.localPeerConnection.addIceCandidate(a)})}async connect(){let e=`${this.url}/.wrtc/v2`,t={"Content-Type":"application/json"};this.authorization&&(t={...t,Authorization:this.authorization});let n={};try{let c=await fetch(`${e}/connections`,{method:"POST",headers:t});if(c.status>=300)throw{name:"Error",message:`Connection failed with status code ${c.status}.`,status:c.status,statusText:c.statusText};let l=await c.json();n=l.userData,this.remotePeerConnection=l}catch(c){return console.error(c.message),{error:c}}let{id:s,localDescription:o}=this.remotePeerConnection,a={sdpSemantics:"unified-plan",...this.rtcConfiguration},i=RTCPeerConnection||webkitRTCPeerConnection;this.localPeerConnection=new i(a),((c=10,l=50,h=1.8,p=20)=>Array(c).fill(0).map((O,w)=>parseInt((l*h**w).toString())+parseInt((Math.random()*p).toString())))().forEach(c=>{setTimeout(()=>{this.fetchAdditionalCandidates(e,s).catch(()=>{})},c)});try{await this.localPeerConnection.setRemoteDescription(o),this.localPeerConnection.addEventListener("datachannel",this.onDataChannel,{once:!0});let c=await this.localPeerConnection.createAnswer(),l=new RTCSessionDescription({type:"answer",sdp:c.sdp});await this.localPeerConnection.setLocalDescription(l);try{await fetch(`${e}/connections/${s}/remote-description`,{method:"POST",body:JSON.stringify(this.localPeerConnection.localDescription),headers:{"Content-Type":"application/json"}})}catch(p){return console.error(p.message),{error:p}}let h=()=>new Promise(p=>{this.localPeerConnection.addEventListener("datachannel",()=>{p()},{once:!0})});return this.dataChannel||await h(),{userData:n,localPeerConnection:this.localPeerConnection,dataChannel:this.dataChannel,id:s}}catch(c){return console.error(c.message),this.localPeerConnection.close(),{error:c}}}};var D=class{async connect(e){if(RTCPeerConnection||webkitRTCPeerConnection){let{localPeerConnection:n,dataChannel:s,id:o,userData:a,error:i}=await e.connect();return i?{error:i}:!n||!s||!o||!a?{error:new Error('Something went wrong in "await connectionsManager.connect()"')}:(this.localPeerConnection=n,this.dataChannel=s,this.id=o,{userData:a})}else{let n=new Error($.BROWSER_NOT_SUPPORTED);return console.error(n.message),{error:n}}}};var $e=(r=24)=>{let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="";for(let n=0;n<r;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},ce=$e;var Be=(r=200,e=1,t)=>{let n=0;if(typeof t!="function"){console.error("You have to define your callback function!");return}let s=setInterval(()=>{t(),n++,n===e-1&&clearInterval(s)},r);t()},le=Be;var he=(r,e)=>{let{interval:t=150,runs:n=10}=r,s=ce(24);le(t,n,()=>{e(s)})};var z=class{constructor(e,t,n,s,o){this.userData={},this.receivedReliableMessages=[],this.url=n?`${e}:${n}`:e,this.connectionsManager=new A(this.url,t,s,o),this.bridge=this.connectionsManager.bridge,this.bridge.on(m.DISCONNECTED,()=>this.bridge.removeAllListeners())}onconnectionstatechange(){let e=this.peerConnection.localPeerConnection;e.onconnectionstatechange=()=>{(e.connectionState==="disconnected"||e.connectionState==="closed")&&this.bridge.emit(m.DISCONNECTED)}}get id(){return this.peerConnection.id}close(){this.peerConnection.localPeerConnection.close(),this.bridge.emit(m.DISCONNECTED);try{let e=`${this.url}/.wrtc/v2`;fetch(`${e}/connections/${this.id}/close`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch(e){console.error(e.message)}}emit(e,t=null,n){n&&n.reliable?he(n,s=>this.connectionsManager.emit(e,{MESSAGE:t,RELIABLE:1,ID:s})):this.connectionsManager.emit(e,t)}get raw(){return{emit:e=>this.emit(m.RAW_MESSAGE,e)}}onRaw(e){this.bridge.on(m.RAW_MESSAGE,t=>{(s=>e(s))(t)})}async onConnect(e){var t;this.peerConnection=new D;let n=await this.peerConnection.connect(this.connectionsManager);n.error?e(n.error):(n.userData&&(this.userData=n.userData),this.maxMessageSize=this.connectionsManager.maxMessageSize=(t=this.peerConnection.localPeerConnection.sctp)===null||t===void 0?void 0:t.maxMessageSize,this.onconnectionstatechange(),e())}onDisconnect(e){this.bridge.on(m.DISCONNECTED,e)}on(e,t){this.bridge.on(e,n=>{let s=n&&n.RELIABLE===1&&n.ID!=="undefined",o=15e3;s?((()=>{let i=new Date().getTime();this.receivedReliableMessages.forEach((f,c,l)=>{f.expire<=i&&l.splice(c,1)})})(),this.receivedReliableMessages.filter(i=>i.id===n.ID).length===0&&(this.receivedReliableMessages.push({id:n.ID,timestamp:new Date,expire:new Date().getTime()+o}),t(n.MESSAGE))):t(n)})}},Ge=(r={})=>{let{authorization:e=void 0,iceServers:t=[],iceTransportPolicy:n="all",label:s="geckos.io",port:o=9208,url:a=`${location.protocol}//${location.hostname}`}=r;return new z(a,e,o,s,{iceServers:t,iceTransportPolicy:n})},K=Ge;var F=class extends k{#e;constructor(e){super(e.id),this.#e=e}emit(e,...t){this.#e.emit(e,...t)}on(e,t){this.#e.on(e,n=>{try{t(this,n)}catch(s){console.log(s)}})}onDisconnect(e){try{this.#e.onDisconnect(e)}catch(t){console.log(t)}}},ze=(r="http://127.0.0.1:3000/",e)=>{let t=K({url:r,authorization:"default"});t.onConnect(n=>{let s=new F(t);e(s,n)})};typeof window<"u"&&(window.CapyAdapter=ze);export{ze as adapter};
/*! Bundled license information:

@yandeu/events/cjs/index.js:
  (**
   * @package      npmjs.com/package/@yandeu/events (events.min.js)
   *
   * @author       Arnout Kazemier (https://github.com/3rd-Eden)
   * @copyright    Copyright (c) 2014 Arnout Kazemier
   * @license      {@link https://github.com/primus/eventemitter3/blob/master/LICENSE|MIT}
   *
   * @author       Yannick Deubel (https://github.com/yandeu)
   * @copyright    Copyright (c) 2021 Yannick Deubel; Project Url: https://github.com/yandeu/events
   * @license      {@link https://github.com/yandeu/events/blob/master/LICENSE|MIT}
   *)
*/
